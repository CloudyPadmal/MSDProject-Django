{% include "users/header.html" %}
<html>
	<body>
		<nav class="navbar navbar-inverse navbar-fixed-top">
			<div class="container-fluid">
				<div class="navbar-header">
					{% if register %}
						<a class="navbar-brand">Register</a>
					{% else %}
						<a class="navbar-brand">Update</a>
					{% endif %}
				</div>
			</div>
		</nav>
		<br/>
		{% if msg %}
			<div class="alert alert-{{ css }} alert-dismissible" role="alert">
				<button type="button" class="close" data-dismiss="alert"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
				<strong>{{ msg }}</strong>
			</div>
		{% endif %}

		<form method="post" action="{% url action_url %}">
		{% csrf_token %}
			<div class="form-group ${status.error ? 'has-error' : ''}">
				<label class="col-sm-2 control-label">First Name</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.name }}</div>
					<div class="control-label">{{ form.name.errors }}</div>
				</div>
			</div>
			<br />

			<div class="form-group {% if form.surname.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">Surname</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.surname }}</div>
					<div class="control-label">{{ form.surname.errors }}</div>
				</div>
			</div>
			<br />

			<div class="form-group {% if form.surname.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">Email</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.email }}</div>
					<div class="control-label">{{ form.email.errors }}</div>
				</div>
			</div>
			<br />

			{% if not register %}
				<hidden path="indexNumber" />
			{% else %}
			
			<div class="form-group {% if form.password.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">Password</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.password }}</div>
					<div class="control-label">{{ form.password.errors }}</div>
				</div>
			</div>
			<br />

			<div class="form-group {% if form.confirmPassword.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">Confirm Password</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.confirmPassword }}</div>
					<div class="control-label">{{ form.confirmPassword.errors }}</div>
				</div>
			</div>
			<br />

			<div class="form-group {% if form.indexNumber.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">Index</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.indexNumber }}</div>
					<div class="control-label">{{ form.indexNumber.errors }}</div>
				</div>
			</div>
			<br />
			{% endif %}

			<div class="form-group {% if form.telephone.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">Telephone</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.telephone }}</div>
					<div class="control-label">{{ form.telephone.errors }}</div>
				</div>
			</div>
			<br />

			<div class="form-group {% if form.gpa.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">GPA</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.gpa }}</div>
					<div class="control-label">{{ form.gpa.errors }}</div>
				</div>
			</div>
			<br />

			<div class="form-group {% if form.aboutMe.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">About Me</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.aboutMe }}</div>
					<div class="control-label">{{ form.aboutMe.errors }}</div>
				</div>
			</div>
			<br />

			<div class="form-group {% if form.preferences.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">Preferences</label>
				<div class="col-sm-10">
					{% for element in prefForm %}
					   {{ element }} {{ element.label_tag }}<br />
					{% endfor %}
				</div>
			</div>
			<br />

			<div class="form-group {% if form.gender.errors %}'has-error'{% endif %}">
				<label class="col-sm-2 control-label">Gender</label>
				<div class="col-sm-10">
					<div class="form-controls">{{ form.gender }}</div>
					<div class="control-label">{{ form.gender.errors }}</div>
				</div>
			</div>
			<br />

			<div class="register-buttons">
				{% if register %}
					<button type="submit" name="register" class="btn-lg btn-primary">Register</button>
				{% else %}
					<button type="submit" name="update" class="btn-lg btn-primary">Update</button>
				{% endif %}
			</div>
		</form>
	</body>
</html>
<!-- &copy; Padmal -->
